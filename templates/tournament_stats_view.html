<!--Index page when NOT LOGGED IN for purposes of COMPETITOR viewing of results not judges-->

<!-- NEEDS 6 PROBLEMS! DONT TRY TO FIX THEM! -->
{% extends "layout.html" %}

{% block body %}
    <div class="tourney" style="width:95%"></div>
    <div>
        <label class="rangePicker">
            Name Width
            <input oninput="resize(this, 'teamWidth')" type="range" min="30" max="200" step="1" value="60">
        </label>
        <label>
            Bracket Width
            <input  oninput="resize(this, 'roundMargin')" type="range" min="3" max="100" step="1" value="20">
        </label>
        <label>
            Bracket Height
            <input  oninput="resize(this, 'matchMargin')" type="range" min="3" max="100" step="1" value="20">
        </label>
    </div>

    <script type="text/javascript">
        var teamsArray = {{ teams_array|safe }};
        var resultsArray ={{results}};

        console.log(resultsArray);
        var bigData = {
            teams : teamsArray,
            results : resultsArray,
        };
        
        $(function() {
            $('.tourney').bracket({skipConsolationRound: true, init: bigData})
        })

        var resizeParameters = {
            skipConsolationRound: true, 
            scoreWidth: 20,
            init: bigData
        };

        function resize(target, propName) {
            resizeParameters[propName] = parseInt(target.value);
            $('.tourney').bracket(resizeParameters);        
        }



    </script>
    <script type="text/javascript" src="{{ url_for('static', filename='js/statview.js') }}"></script>

{% endblock %}