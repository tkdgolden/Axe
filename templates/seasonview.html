<!--Page displaying a judge's options within a season (enroll competitor, start match, view players, recent matches)-->

<style>
    input[type="checkbox"]:checked + label {
        background: skyblue;
    }
</style>

{% extends "layout.html" %}

{% block body %}

    <p>You are judging the {{ rows[0]["season"] }} {{ rows[0]["yearof"] }} {{ rows[0]["discipline"] }} season.     <a href="/">Leave Season/ Back to Judge Homepage</a></p>
    <h2>Suggested Matches</h2>
        <form method="get" action="/creatematch">
            {% for each in matchups[3] %}
                <label for="competitor_selection">
                    {% for x in players %}
                        {% if each[0] == x["competitor_id"] %}
                            {{ x["competitor_first_name"] }} {{ x["competitor_last_name"]}}
                        {% endif %}
                    {% endfor %}
                    Versus
                    {% for x in players %}
                        {% if each[1] == x["competitor_id"] %}
                            {{ x["competitor_first_name"] }} {{ x["competitor_last_name"]}}
                        {% endif %}
                    {% endfor %}
                </label>
                <input type="radio" id="competitor_selection" name="competitor_selection" value="{{ each }}">
            {% endfor %}
        <br><button>Score Match</button>
        </form>
    <h2>All Competitors</h2>
        <table>
            <head>
                <tr>
                    <th>Name</th>
                    <th>Matches Played</th>
                </tr>
            </head>
            <tbody>
                {% for x in players %}
                <tr>
                    <td>
                        {{ x["competitor_first_name"] }} {{ x["competitor_last_name"] }}
                    </td>
                    <td>
                        {% for each in logged_matches %}
                            {% if x["competitor_id"] == each["player_1_id"] %}
                                {% for y in players %}
                                    {% if y["competitor_id"] == each["player_2_id"] %}
                                        {{ y["competitor_first_name"]}} {{ y["competitor_last_name"]}}, 
                                    {% endif %}
                                {% endfor %}
                            {% elif x["competitor_id"] == each["player_2_id"] %}
                                {% for y in players %}
                                    {% if y["competitor_id"] == each["player_1_id"] %}
                                        {{ y["competitor_first_name"]}} {{ y["competitor_last_name"]}}, 
                                    {% endif %}
                                {% endfor %}
                            {% endif %}
                        {% endfor %}
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    <p><a href="/enrollcompetitor">Enroll a Competitor</a></p>

{% endblock %}

